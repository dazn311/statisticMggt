<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Административная панель</title>
</head>
<style>
    .wrap-form {
        max-width: 90%;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        width: 90%;
        border: 1px solid gray;
        padding: 10px;
    }

    .content {
        display: flex;
        /* justify-content: center; */
        flex-direction: column;
        align-items: center;
    }

    .admin-list ul {
        margin: 5px;
    }

    .header-tab {
        font-size: 1.2em;
        font-weight: 600;
    }


    .admin-list__header {
        border: 1px solid gray;
        margin: 5px;
        padding: 5px 10px;
        background-color: aliceblue;
    }

    .list-objects {
        list-style: none;
        padding-left: 0;

    }

    .admin-list {
        width: 50%;
        align-self: baseline;
    }

    .admin-list-detail {
        width: 50%;
    }
</style>

<body>



    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">МосГеоТрест</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href=".">Главная<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../src/panelAdministration.html">Админ панель</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" style="color: chocolate;">Вы зашли как УК "Смоленская"</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Выход</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="content">
        <h1>Административная панель</h1>
        <div class="wrap-form">
            <div class="admin-list">

                <div class="admin-list__header header-tab">События в точках</div>

                <ul class="list-group">
                    <li data-objectID="1" class="list-group-item active">Беговая улица, 7</li>
                    <li data-objectID="2" class="list-group-item">Лубянская пл., д.2</li>
                    <li data-objectID="3" class="list-group-item">Смоленская пл., д.3</li>
                    <li data-objectID="4" class="list-group-item">Арбатская пл., д.31</li>
                </ul>
            </div>
            <div data-detailID="1" class="admin-list-detail">

                <div class="admin-list-detail-activeCompany">
                    <div class="admin-list__header header-tab">Замечания по инициировании события</div>

                    <table class="table table-hover" data-smegTabID="0">

                        <tbody>
                            <tr>
                                <td">Комментарий</td>
                                    <td data-objectDetails="comments">Проблемы пересечения границ</td>
                            </tr>
                            <tr>
                                <td>дата инициировании</td>
                                <td data-objectDetails="dataInit">16.01.21</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="admin-list-detail-activeCompany">
                    <div class="admin-list__header header-tab">Организация инициировала событие</div>

                    <table class="table table-hover" data-smegTabID="1">

                        <tbody>
                            <tr>
                                <td>организация</td>
                                <td data-objectAccess="organization">УК Хорошовская</td>
                            </tr>
                            <tr>
                                <td>статус</td>
                                <td data-objectAccess="status">представитиль баланса содержателя</td>
                            </tr>
                            <tr>
                                <td>Адрес</td>
                                <td data-objectAccess="adres">ул. Хорошовское ш. 22</td>
                            </tr>
                            <tr>
                                <td>Контакты</td>
                                <td data-objectAccess="contacts">Васильев А.М. +7 495 888-25-65</td>
                            </tr>
                        </tbody>
                    </table>
                </div>


                <div class="admin-list-detail-activeCompany">
                    <div class="admin-list__header header-tab">Организация ответчик события</div>

                    <table class="table table-hover" data-smegTabID="2">

                        <tbody>
                            <tr>
                                <td>организация</td>
                                <td data-objectDetailsOtvetchikOrganization="organization">УК Беговая</td>
                            </tr>
                            <tr>
                                <td>Адрес</td>
                                <td data-objectDetailsOtvetchikOrganization="adres">ул. Беговая, д.22</td>
                            </tr>
                            <tr>
                                <td>Контакты</td>
                                <td data-objectDetailsOtvetchikOrganization="contacts">Петров В.М. +7 495 777-35-35</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


        </div>
        <script>

            var state = {
                objectAccess: [
                    { id: 1, name: 'ул. Беговая, д.7', idSoglasovanie: 1, status: false },
                    { id: 2, name: 'ул. Б.Лубянская, д.20', idSoglasovanie: 2, status: false },
                    { id: 3, name: 'Горохов пер., д.3', idSoglasovanie: 3, status: true },
                    { id: 4, name: 'Планерная пл., д.1', idSoglasovanie: 4, status: false },
                ],
                objectDetailsInitOrganization: [
                    { id: 1, organization: 'УК Хорошовская', statusOrg: 'представитиль баланса содержателя', street: 'ул. Хорошовское ш. 22', contacts: ' Васильев З.М. +7 495 888-25-65' },
                    { id: 2, organization: 'ООО Детский мир', statusOrg: 'представитиль баланса содержателя', street: 'ул. Б.Лубянская, д.2', contacts: ' Петров Г.М. +7 495 888-25-65' },
                    { id: 3, organization: 'МИИГАиК', statusOrg: 'представитиль баланса содержателя', street: 'Горохов пер., д.3', contacts: ' Павлов К.М. +7 495 888-25-65' },
                    { id: 4, organization: 'ТЦ Каледоском', statusOrg: 'представитиль баланса содержателя', street: 'Планерная пл., д.3', contacts: ' Резанов П.М. +7 495 888-25-65' },
                ],
                objectDetailsOtvetchikOrganization: [
                    { id: 1, organization: 'УК Беговая', statusOrg: '-', street: 'ул. Хорошовское ш. 24', contacts: ' Крутой З.М. +7 495 888-25-65' },
                    { id: 2, organization: 'Отель Арарат', statusOrg: '-', street: 'ул. Б.Лубянская, д.4', contacts: ' Попов Г.М. +7 495 888-25-65' },
                    { id: 3, organization: 'УК Б. Басманный', statusOrg: '-', street: 'Горохов пер., д.5', contacts: ' Демьянов К.М. +7 495 888-25-65' },
                    { id: 4, organization: 'магазин Пятерочка', statusOrg: '-', street: 'Планерная пл., д.5', contacts: ' Свердлов П.М. +7 495 888-25-65' },
                ],
                objectDetails: [
                    { id: 1, comments: 'Проблемы пересечения границ', dataInit: '16.01.21' },
                    { id: 2, comments: 'Проблемы установки знаков', dataInit: '26.12.20' },
                    { id: 3, comments: 'Перенос забора', dataInit: '12.01.21' },
                    { id: 4, comments: 'Проблемы светофоров', dataInit: '01.01.21' },
                ],
            };
            console.log(state.objectAccess[0]);
            var lastActive = document.querySelector('[data-objectID]');
            var lastActiveSmeg = document.querySelector('[data-smegID]');
            // console.log(lastActive);
            var lastActiveOrgContact = document.querySelector('[data-objectAccess="contacts"]');
            // console.log(lastActiveOrg);
            var lastActiveZamechanieComment = document.querySelector('[data-objectDetails="comments"]');
            var lastActiveZamechanieDate = document.querySelector('[data-objectDetails="dataInit"]');

            var lastActiveOrg = document.querySelector('[data-objectAccess="organization"]');
            var lastActiveOrgStatus = document.querySelector('[data-objectAccess="status"]');
            var lastActiveOrgAdres = document.querySelector('[data-objectAccess="adres"]');
            var lastActiveOrgContact = document.querySelector('[data-objectAccess="contacts"]');

            var lastOtvetchikOrg = document.querySelector('[data-objectDetailsOtvetchikOrganization="organization"]');
            var lastOtvetchikOrgAdres = document.querySelector('[data-objectDetailsOtvetchikOrganization="adres"]');
            var lastOtvetchikOrgContact = document.querySelector('[data-objectDetailsOtvetchikOrganization="contacts"]');

            document.addEventListener("click", (e) => {

                if (e.target.dataset.objectid) {
                    lastActive.classList.remove('active');
                    e.target.classList.add('active');
                    lastActive = e.target;

                    lastActiveZamechanieComment.textContent = state.objectDetails[e.target.dataset.objectid - 1].comments;
                    lastActiveZamechanieDate.textContent = state.objectDetails[e.target.dataset.objectid - 1].dataInit;

                    lastActiveOrg.textContent = state.objectDetailsInitOrganization[e.target.dataset.objectid - 1].organization;
                    lastActiveOrgStatus.textContent = state.objectDetailsInitOrganization[e.target.dataset.objectid - 1].statusOrg;
                    lastActiveOrgAdres.textContent = state.objectDetailsInitOrganization[e.target.dataset.objectid - 1].street;
                    lastActiveOrgContact.textContent = state.objectDetailsInitOrganization[e.target.dataset.objectid - 1].contacts;

                    lastOtvetchikOrg.textContent = state.objectDetailsOtvetchikOrganization[e.target.dataset.objectid - 1].organization;
                    lastOtvetchikOrgAdres.textContent = state.objectDetailsOtvetchikOrganization[e.target.dataset.objectid - 1].street;
                    lastOtvetchikOrgContact.textContent = state.objectDetailsOtvetchikOrganization[e.target.dataset.objectid - 1].contacts;
                }
            })
        </script>

    </div>



</body>

</html>